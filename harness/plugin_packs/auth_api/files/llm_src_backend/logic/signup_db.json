{
  "id": "logic_signup_db",
  "type": "logic",
  "description": "Register new user in database and return token/user object.",
  "inputs": ["email", "password", "name"],
  "outputs": ["token", "user"],
  "implementation": "Check if email exists in User table. If not, insert new user with email, password, name. Return token and user object. If exists, return error.",
  "tests": [
    {
      "id": "test_signup_db_insert",
      "type": "unit",
      "input": {"email": "simonjamesodell@live.co.uk", "password": "pw123", "name": "Simon"},
      "expected_output": {"token": "xyz789", "user": {"email": "simonjamesodell@live.co.uk", "name": "Simon"}}
    },
    {
      "id": "test_signup_db_duplicate",
      "type": "unit",
      "input": {"email": "simonjamesodell@live.co.uk", "password": "pw123", "name": "Simon"},
      "expected_output": {"error": "User already exists"}
    }
  ],
  "llm_notes": "Replace in-memory add with DB insert."
}
